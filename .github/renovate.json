{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended",
    "security:openssf-scorecard"
  ],
  "baseBranchPatterns": [
    "develop"
  ],
  "timezone": "UTC",
  "schedule": [
    "before 6am on monday",
    "before 6am on thursday"
  ],
  "prConcurrentLimit": 5,
  "prHourlyLimit": 10,
  "semanticCommits": "enabled",
  "semanticCommitType": "chore",
  "semanticCommitScope": "deps",
  "branchPrefix": "renovate/",
  "pinDigests": true,
  "labels": [
    "dependencies"
  ],
  "assignees": [
    "jamcalli"
  ],
  "reviewers": [
    "jamcalli"
  ],
  "packageRules": [
    {
      "description": "Group all Radix UI components",
      "groupName": "Radix UI",
      "matchPackageNames": [
        "/^@radix-ui//"
      ]
    },
    {
      "description": "Group all Fastify plugins",
      "groupName": "Fastify ecosystem",
      "matchPackageNames": [
        "/^@fastify//",
        "/^fastify/",
        "!fastify-cli",
        "!fastify-tsconfig",
        "!@fastify/vite",
        "!@fastify/react"
      ]
    },
    {
      "description": "Group TypeScript types",
      "groupName": "TypeScript types",
      "matchPackageNames": [
        "/^@types//"
      ]
    },
    {
      "description": "Group build tools and Fastify integration",
      "groupName": "Build tools",
      "matchPackageNames": [
        "vite",
        "@vitejs/plugin-react",
        "@fastify/vite",
        "@fastify/react",
        "typescript",
        "tsc-alias",
        "tsx",
        "@biomejs/biome"
      ]
    },
    {
      "description": "Use widen strategy for peer dependencies",
      "matchDepTypes": [
        "peerDependencies"
      ],
      "rangeStrategy": "widen"
    },
    {
      "description": "Group database dependencies",
      "groupName": "Database",
      "matchPackageNames": [
        "knex",
        "better-sqlite3",
        "pg",
        "@types/better-sqlite3",
        "@types/pg"
      ]
    },
    {
      "description": "Group React ecosystem",
      "groupName": "React",
      "matchPackageNames": [
        "react",
        "react-dom",
        "react-hook-form",
        "react-router-dom",
        "@hookform/resolvers",
        "zod",
        "@types/react",
        "@types/react-dom"
      ]
    },
    {
      "description": "Group Tailwind ecosystem",
      "groupName": "Tailwind CSS",
      "matchPackageNames": [
        "tailwindcss",
        "@tailwindcss/postcss",
        "postcss",
        "autoprefixer",
        "tailwind-merge",
        "class-variance-authority",
        "tw-animate-css"
      ]
    },
    {
      "description": "Separate major updates for manual review",
      "matchUpdateTypes": [
        "major"
      ],
      "labels": [
        "dependencies",
        "major-update"
      ],
      "reviewers": [
        "jamcalli"
      ],
      "prPriority": 10
    },
    {
      "description": "Group all Node.js version updates - only LTS versions",
      "groupName": "Node.js LTS",
      "matchManagers": [
        "dockerfile",
        "github-actions",
        "nvm",
        "nodenv",
        "asdf",
        "node-version",
        "npm"
      ],
      "matchDatasources": [
        "docker",
        "node-version",
        "npm"
      ],
      "matchDepNames": [
        "node",
        "@types/node"
      ],
      "matchPackageNames": [
        "node"
      ],
      "rangeStrategy": "pin",
      "allowedVersions": "/^22\\./",
      "automerge": false,
      "prPriority": 15,
      "reviewers": [
        "jamcalli"
      ],
      "labels": [
        "dependencies",
        "node-version"
      ]
    },
    {
      "description": "Weekly digest for dev dependencies",
      "matchDepTypes": [
        "devDependencies"
      ],
      "groupName": "Dev dependencies (non-critical)",
      "matchPackageNames": [
        "!typescript",
        "!@biomejs/biome",
        "!vite",
        "!@vitejs/plugin-react",
        "!tailwindcss",
        "!@tailwindcss/postcss",
        "!postcss",
        "!autoprefixer",
        "!tailwind-merge",
        "!class-variance-authority",
        "!/^@types//"
      ]
    },
    {
      "description": "Never pin or update own Docker images - users need latest tags",
      "matchPackageNames": [
        "/^(?:ghcr\\.io\\/)?lakker\\/pulsarr$/"
      ],
      "matchDatasources": ["docker"],
      "enabled": false
    },
    {
      "description": "Pin all GitHub Actions to commit SHAs for security",
      "matchManagers": [
        "github-actions"
      ],
      "pinDigests": true
    },
    {
      "description": "Auto-merge patch/minor GitHub Actions updates after stability period",
      "matchManagers": [
        "github-actions"
      ],
      "groupName": "GitHub Actions",
      "matchUpdateTypes": [
        "patch",
        "minor",
        "pinDigest"
      ],
      "minimumReleaseAge": "3 days",
      "automerge": true,
      "automergeType": "pr"
    },
    {
      "description": "Require manual review for major GitHub Actions updates",
      "matchManagers": [
        "github-actions"
      ],
      "matchUpdateTypes": [
        "major"
      ],
      "automerge": false,
      "minimumReleaseAge": "7 days"
    },
    {
      "description": "Pin pino to 9.7.0 to prevent FastifyBaseLogger type breakage",
      "matchPackageNames": [
        "pino"
      ],
      "allowedVersions": "9.7.0"
    },
    {
      "description": "Pin recharts to v2.x to prevent breaking changes with component library",
      "matchPackageNames": [
        "recharts"
      ],
      "allowedVersions": "< 3.0.0"
    },
    {
      "description": "Ignore regular updates for docs dependencies but keep security alerts",
      "matchFileNames": [
        "docs/**"
      ],
      "enabled": false
    },
    {
      "description": "Enable vulnerability alerts for docs dependencies",
      "matchFileNames": [
        "docs/**"
      ],
      "vulnerabilityAlerts": {
        "enabled": true
      }
    },
    {
      "description": "High priority for vulnerability alerts",
      "matchDatasources": [
        "*"
      ],
      "vulnerabilityAlerts": {
        "enabled": true
      },
      "prPriority": 20
    },
    {
      "description": "Auto-merge patch updates for Radix UI",
      "groupName": "Radix UI",
      "matchUpdateTypes": ["patch"],
      "automerge": true,
      "automergeType": "pr",
      "minimumReleaseAge": "2 days"
    },
    {
      "description": "Auto-merge patch updates for TypeScript types",
      "groupName": "TypeScript types",
      "matchUpdateTypes": ["patch"],
      "automerge": true,
      "automergeType": "pr",
      "minimumReleaseAge": "2 days"
    },
    {
      "description": "Auto-merge patch updates for Database",
      "groupName": "Database",
      "matchUpdateTypes": ["patch"],
      "automerge": true,
      "automergeType": "pr",
      "minimumReleaseAge": "2 days"
    },
    {
      "description": "Auto-merge patch updates for React",
      "groupName": "React",
      "matchUpdateTypes": ["patch"],
      "automerge": true,
      "automergeType": "pr",
      "minimumReleaseAge": "2 days"
    },
    {
      "description": "Auto-merge patch updates for Tailwind CSS",
      "groupName": "Tailwind CSS",
      "matchUpdateTypes": ["patch"],
      "automerge": true,
      "automergeType": "pr",
      "minimumReleaseAge": "2 days"
    },
    {
      "description": "Auto-merge patch updates for Fastify ecosystem",
      "groupName": "Fastify ecosystem",
      "matchUpdateTypes": ["patch"],
      "automerge": true,
      "automergeType": "pr",
      "minimumReleaseAge": "2 days"
    },
    {
      "description": "Auto-merge minor and patch updates for dev dependencies",
      "matchDepTypes": ["devDependencies"],
      "matchUpdateTypes": ["minor", "patch"],
      "automerge": true,
      "automergeType": "pr",
      "minimumReleaseAge": "3 days"
    },
    {
      "description": "Group all other dependencies to reduce PR count",
      "groupName": "All other dependencies",
      "matchPackagePatterns": [".*"],
      "excludePackageNames": [
        "/^@radix-ui//", "/^@fastify//", "/^fastify/", "/^@types//",
        "vite", "@vitejs/plugin-react", "@fastify/vite", "@fastify/react",
        "typescript", "tsc-alias", "tsx", "@biomejs/biome",
        "knex", "better-sqlite3", "pg", "@types/better-sqlite3", "@types/pg",
        "react", "react-dom", "react-hook-form", "react-router-dom",
        "@hookform/resolvers", "zod", "@types/react", "@types/react-dom",
        "tailwindcss", "@tailwindcss/postcss", "postcss", "autoprefixer",
        "tailwind-merge", "class-variance-authority", "tw-animate-css",
        "node", "pino", "recharts"
      ],
      "matchUpdateTypes": ["patch"],
      "automerge": true,
      "automergeType": "pr",
      "minimumReleaseAge": "3 days"
    }
  ],
  "vulnerabilityAlerts": {
    "enabled": true,
    "automerge": true,
    "automergeType": "pr",
    "schedule": [
      "at any time"
    ],
    "labels": [
      "security",
      "dependencies"
    ]
  },
  "lockFileMaintenance": {
    "enabled": true,
    "schedule": [
      "before 6am on monday"
    ]
  },
  "osvVulnerabilityAlerts": true
}
