"use strict";(globalThis.webpackChunk_watchlist_v2_docs=globalThis.webpackChunk_watchlist_v2_docs||[]).push([[5938],{60338(e,s,r){r.r(s),r.d(s,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"features/approval-and-quota-system","title":"Approval and Quota System","description":"Manage user content requests with configurable quotas and administrative approval workflows. Set limits by user, require approval for specific content, and maintain control over library growth.","source":"@site/docs/features/approval-and-quota-system.md","sourceDirName":"features","slug":"/features/approval-and-quota-system","permalink":"/Pulsarr/docs/features/approval-and-quota-system","draft":false,"unlisted":false,"editUrl":"https://github.com/jamcalli/pulsarr/edit/main/docs/docs/features/approval-and-quota-system.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Multi-Instance Support","permalink":"/Pulsarr/docs/features/multi-instance-support"},"next":{"title":"Discord Notifications","permalink":"/Pulsarr/docs/notifications/discord"}}');var i=r(74848),t=r(28453),l=r(41306);const o={sidebar_position:3},a="Approval and Quota System",d={},c=[{value:"Quick Setup",id:"quick-setup",level:2},{value:"Key Features",id:"key-features",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Quota Types",id:"quota-types",level:2},{value:"Configuration",id:"configuration",level:2},{value:"New User Defaults",id:"new-user-defaults",level:3},{value:"Individual User Management",id:"individual-user-management",level:3},{value:"User Settings",id:"user-settings",level:3},{value:"Approval Settings",id:"approval-settings",level:3},{value:"Approval Management",id:"approval-management",level:2},{value:"Approval Actions",id:"approval-actions",level:3},{value:"Content Router Integration",id:"content-router-integration",level:2},{value:"Trigger Points",id:"trigger-points",level:2},{value:"Discord Bot Integration",id:"discord-bot-integration",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"API Reference",id:"api-reference",level:2}];function h(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"approval-and-quota-system",children:"Approval and Quota System"})}),"\n",(0,i.jsx)(s.p,{children:"Manage user content requests with configurable quotas and administrative approval workflows. Set limits by user, require approval for specific content, and maintain control over library growth."}),"\n",(0,i.jsx)(s.h2,{id:"quick-setup",children:"Quick Setup"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Navigate to ",(0,i.jsx)(s.strong,{children:"Plex \u2192 Users"})," and select a user"]}),"\n",(0,i.jsxs)(s.li,{children:["Click ",(0,i.jsx)(s.strong,{children:"Edit Quotas"})," to configure limits"]}),"\n",(0,i.jsx)(s.li,{children:"Set quota type (daily, weekly rolling, or monthly) and limits"}),"\n",(0,i.jsxs)(s.li,{children:["Optionally enable ",(0,i.jsx)(s.strong,{children:"Requires Approval"})," for manual review"]}),"\n",(0,i.jsxs)(s.li,{children:["Configure approval settings in ",(0,i.jsx)(s.strong,{children:"Approvals \u2192 Approval Settings"})," (expiration, notifications)"]}),"\n",(0,i.jsxs)(s.li,{children:["Monitor and manage requests in the ",(0,i.jsx)(s.strong,{children:"Approvals"})," section"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"key-features",children:"Key Features"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"User Quotas"}),": Set daily, weekly rolling, or monthly limits per user for movies and shows"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Approval Workflows"}),": Require admin approval for quota-exceeded or rule-based content"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Automatic Expiration"}),": Configure requests to auto-expire or auto-approve after set timeframes"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Bulk Operations"}),": Approve, reject, or delete multiple requests simultaneously"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Smart Auto-Approval"}),": Automatically approve requests when content already exists in library"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Real-time Notifications"}),": Discord and Apprise notifications for new approval requests"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"User adds content"})," to their Plex watchlist"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"System checks"})," quota status and routing rules"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Approval created"})," if limits exceeded or rules require it"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Admin reviews"})," and approves/rejects requests"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Content routes"})," to Sonarr/Radarr after approval"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"quota-types",children:"Quota Types"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Type"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Daily"})}),(0,i.jsx)(s.td,{children:"Reset at midnight in your timezone"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Weekly Rolling"})}),(0,i.jsx)(s.td,{children:"7-day rolling window that shifts each day"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Monthly"})}),(0,i.jsx)(s.td,{children:"Calendar month-based with configurable reset day"})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(s.h3,{id:"new-user-defaults",children:"New User Defaults"}),"\n",(0,i.jsxs)(s.p,{children:["Configure default quota and approval settings for newly discovered Plex users via ",(0,i.jsx)(s.strong,{children:"Utilities > New User Defaults"}),". This eliminates manual setup for each new user and ensures consistent policy enforcement. See the ",(0,i.jsx)(s.a,{href:"/Pulsarr/docs/utilities/new-user-defaults",children:"New User Defaults"})," guide for complete details."]}),"\n",(0,i.jsx)(s.h3,{id:"individual-user-management",children:"Individual User Management"}),"\n",(0,i.jsxs)(s.p,{children:["Navigate to ",(0,i.jsx)(s.strong,{children:"Plex \u2192 Users"})," to manage individual user quotas:"]}),"\n",(0,i.jsx)(s.h3,{id:"user-settings",children:"User Settings"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Setting"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Quota Type"})}),(0,i.jsx)(s.td,{children:"Daily, Weekly Rolling, or Monthly"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Quota Limit"})}),(0,i.jsx)(s.td,{children:"Number of allowed requests per period"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Separate Limits"})}),(0,i.jsx)(s.td,{children:"Different quotas for movies vs shows"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Bypass Approval"})}),(0,i.jsx)(s.td,{children:"Allow trusted users unlimited requests"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Requires Approval"})}),(0,i.jsx)(s.td,{children:"Force all requests from this user to require approval"})]})]})]}),"\n",(0,i.jsx)("img",{alt:"User Quota Configuration",src:(0,l.default)("/img/Quota-Settings.png")}),"\n",(0,i.jsx)(s.h3,{id:"approval-settings",children:"Approval Settings"}),"\n",(0,i.jsxs)(s.p,{children:["Configure approval behavior in ",(0,i.jsx)(s.strong,{children:"Approvals \u2192 Approval Settings"}),":"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Setting"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Expiration Hours"})}),(0,i.jsx)(s.td,{children:"How long before requests auto-expire (default: 72 hours)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Expiration Action"})}),(0,i.jsx)(s.td,{children:"Auto-expire or auto-approve expired requests"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Auto-Approve on Quota Reset"})}),(0,i.jsx)(s.td,{children:"Approve pending requests when user's quota resets (disabled by default)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Cleanup Days"})}),(0,i.jsx)(s.td,{children:"How long to keep expired requests in database"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Notifications"})}),(0,i.jsx)(s.td,{children:"Configure Discord and Apprise notifications for new requests"})]})]})]}),"\n",(0,i.jsx)(s.admonition,{title:"Auto-Approve on Quota Reset",type:"tip",children:(0,i.jsx)(s.p,{children:"When enabled, pending requests triggered by quota limits are automatically re-evaluated during maintenance runs. If the user's quota has reset and they have quota available, requests are auto-approved in FIFO order (oldest first). This eliminates manual approval of quota-exceeded requests after quotas reset."})}),"\n",(0,i.jsx)("img",{alt:"Approval System Settings",src:(0,l.default)("/img/Approvals-Settings.png")}),"\n",(0,i.jsx)(s.h2,{id:"approval-management",children:"Approval Management"}),"\n",(0,i.jsx)(s.p,{children:"The approval interface provides:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Request Table"}),": View all pending, approved, rejected, and expired requests"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Advanced Filtering"}),": Filter by user, status, content type, trigger reason"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Real-time Updates"}),": Live updates as requests are processed"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Bulk Actions"}),": Process multiple requests efficiently"]}),"\n"]}),"\n",(0,i.jsx)("img",{alt:"Approvals Table",src:(0,l.default)("/img/Approvals-Table.png")}),"\n",(0,i.jsx)(s.h3,{id:"approval-actions",children:"Approval Actions"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Individual Actions"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Approve & Execute: Routes content immediately"}),"\n",(0,i.jsx)(s.li,{children:"Reject: Denies the request"}),"\n",(0,i.jsx)(s.li,{children:"Delete: Removes from database"}),"\n"]}),"\n",(0,i.jsx)("img",{alt:"Approval Details Modal",src:(0,l.default)("/img/Approvals-More-Info.png")}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Routing Overrides"})," (web UI only):"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Modify quality profile and root folder"}),"\n",(0,i.jsx)(s.li,{children:"Adjust search settings, tags, and monitoring options"}),"\n",(0,i.jsx)(s.li,{children:"Change series type, season monitoring (Sonarr)"}),"\n",(0,i.jsx)(s.li,{children:"Set minimum availability (Radarr)"}),"\n",(0,i.jsx)(s.li,{children:"Configure multi-instance syncing for default instances"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Bulk Operations"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Select multiple requests"}),"\n",(0,i.jsx)(s.li,{children:"Apply action to all selected"}),"\n",(0,i.jsx)(s.li,{children:"Add notes for record keeping"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"content-router-integration",children:"Content Router Integration"}),"\n",(0,i.jsx)(s.p,{children:"Configure approval requirements in routing rules:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:'IF season > 3\nTHEN require approval with reason "Long-running series requires approval"\n'})}),"\n",(0,i.jsx)(s.p,{children:"The router stores complete routing decisions (instance, quality profile, tags) and executes them exactly as planned after approval."}),"\n",(0,i.jsx)(s.h2,{id:"trigger-points",children:"Trigger Points"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Trigger"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Quota Exceeded"})}),(0,i.jsx)(s.td,{children:"User reaches their daily/weekly/monthly limit"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Router Rules"})}),(0,i.jsx)(s.td,{children:"Content matches rules configured for approval"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Manual Flags"})}),(0,i.jsx)(s.td,{children:"User account set to require approval for all requests"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Content Criteria"})}),(0,i.jsx)(s.td,{children:"Specific attributes trigger approval"})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"discord-bot-integration",children:"Discord Bot Integration"}),"\n",(0,i.jsx)(s.p,{children:"Manage approvals directly from Discord:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Direct Message Notifications"}),': Primary admin receives DMs with "Review Approvals" button']}),"\n"]}),"\n",(0,i.jsx)("img",{alt:"Discord New Approval Notification",src:(0,l.default)("/img/Discord-Approval-New.png")}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsxs)(s.strong,{children:["Interactive ",(0,i.jsx)(s.code,{children:"/approvals"})," Command"]}),": Browse pending requests with navigation buttons"]}),"\n"]}),"\n",(0,i.jsx)("img",{alt:"Discord Approval Request View",src:(0,l.default)("/img/Discord-Approval-Request.png")}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Full Management Interface"}),": Approve, reject, view details, or delete requests"]}),"\n"]}),"\n",(0,i.jsx)("img",{alt:"Discord Approval Details",src:(0,l.default)("/img/Discord-Approval-More.png")}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"History Browser"}),": Filter and review past approvals by status"]}),"\n"]}),"\n",(0,i.jsx)("img",{alt:"Discord Approval History",src:(0,l.default)("/img/Discord-Approval-History.png")}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Batch Notifications"}),": Multiple requests grouped to reduce notification spam"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Mobile Friendly"}),": Complete approval workflow from Discord mobile app"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Start with generous quotas and adjust based on usage"}),"\n",(0,i.jsx)(s.li,{children:"Use router rules for premium or high-cost content"}),"\n",(0,i.jsx)(s.li,{children:"Configure expiration to auto-handle old requests"}),"\n",(0,i.jsx)(s.li,{children:"Enable notifications for timely processing"}),"\n",(0,i.jsx)(s.li,{children:"Review usage statistics monthly"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Problem"}),(0,i.jsx)(s.th,{children:"Solution"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Quotas not resetting"})}),(0,i.jsx)(s.td,{children:"Check timezone configuration and cleanup settings"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Approvals not routing"})}),(0,i.jsx)(s.td,{children:"Verify target instances are still available"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Missing notifications"})}),(0,i.jsx)(s.td,{children:"Confirm Discord/Apprise configuration"})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,i.jsxs)(s.p,{children:["See ",(0,i.jsx)(s.a,{href:"/docs/api/approval",children:"Approval API"})," and ",(0,i.jsx)(s.a,{href:"/docs/api/quota",children:"Quota API"})," for programmatic access."]})]})}function u(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);