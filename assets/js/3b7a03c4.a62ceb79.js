"use strict";(globalThis.webpackChunk_watchlist_v2_docs=globalThis.webpackChunk_watchlist_v2_docs||[]).push([[4537],{60475(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>x,frontMatter:()=>l,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"features/content-routing","title":"Advanced Content Routing","description":"Build custom routing rules using AND/OR logic to direct content to the appropriate Sonarr/Radarr instances with specific configurations.","source":"@site/docs/features/content-routing.md","sourceDirName":"features","slug":"/features/content-routing","permalink":"/Pulsarr/docs/features/content-routing","draft":false,"unlisted":false,"editUrl":"https://github.com/jamcalli/pulsarr/edit/main/docs/docs/features/content-routing.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Migrating from SQLite to PostgreSQL","permalink":"/Pulsarr/docs/installation/postgres-migration"},"next":{"title":"Multi-Instance Support","permalink":"/Pulsarr/docs/features/multi-instance-support"}}');var s=i(74848),t=i(28453),d=i(41306);const l={sidebar_position:1},c="Advanced Content Routing",o={},h=[{value:"Quick Setup",id:"quick-setup",level:2},{value:"Routing Conditions",id:"routing-conditions",level:2},{value:"Rule Actions",id:"rule-actions",level:2},{value:"Instance Overrides",id:"instance-overrides",level:2},{value:"Sonarr",id:"sonarr",level:3},{value:"Radarr",id:"radarr",level:3},{value:"Multi-Instance Routing",id:"multi-instance-routing",level:2},{value:"Rule Processing",id:"rule-processing",level:2},{value:"Example Rules",id:"example-rules",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"API Reference",id:"api-reference",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"advanced-content-routing",children:"Advanced Content Routing"})}),"\n",(0,s.jsx)(n.p,{children:"Build custom routing rules using AND/OR logic to direct content to the appropriate Sonarr/Radarr instances with specific configurations."}),"\n",(0,s.jsx)("img",{src:(0,d.default)("/img/Content-Route-1.png"),alt:"Content Router Interface"}),"\n",(0,s.jsx)(n.h2,{id:"quick-setup",children:"Quick Setup"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Navigate to ",(0,s.jsx)(n.strong,{children:"Content Router"})," in the Pulsarr interface"]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Add Rule"})," to create a new routing rule"]}),"\n",(0,s.jsx)(n.li,{children:"Configure conditions using AND/OR logic (e.g., \"IF genre contains 'Anime' AND year > 2020\")"}),"\n",(0,s.jsx)(n.li,{children:"Select target instance and configure overrides (quality profile, root folder)"}),"\n",(0,s.jsx)(n.li,{children:"Optionally set rule to require approval or bypass quotas"}),"\n",(0,s.jsx)(n.li,{children:"Set priority (only matters when multiple rules target the same instance - highest wins)"}),"\n",(0,s.jsx)(n.li,{children:"Save and test by adding content that matches your rule"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"routing-conditions",children:"Routing Conditions"}),"\n",(0,s.jsx)(n.p,{children:"Build rules using any combination of these fields with AND/OR logic:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Example"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Genre"})}),(0,s.jsx)(n.td,{children:"Content genre categories"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'genre contains "Anime"'})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"User"})}),(0,s.jsx)(n.td,{children:"User ID or username"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'user equals "KidsAccount"'})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Year"})}),(0,s.jsx)(n.td,{children:"Release year"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"year > 2000"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Certification"})}),(0,s.jsx)(n.td,{children:"Content rating"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'certification in ["PG", "PG-13"]'})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Original Language"})}),(0,s.jsx)(n.td,{children:"Source language"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'language equals "Japanese"'})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Season"})}),(0,s.jsx)(n.td,{children:"Season number (Sonarr only)"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"season > 3"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"IMDb Rating"})}),(0,s.jsx)(n.td,{children:"IMDb score with optional vote count"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"imdbRating > 7.0"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"RT Critic Rating"})}),(0,s.jsx)(n.td,{children:"Rotten Tomatoes critic score (0-100)"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"rtCriticRating > 80"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"RT Audience Rating"})}),(0,s.jsx)(n.td,{children:"Rotten Tomatoes audience score (0-100)"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"rtAudienceRating > 70"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"TMDB Rating"})}),(0,s.jsx)(n.td,{children:"TMDB score (0-10)"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"tmdbRating > 6.5"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Streaming Service"})}),(0,s.jsx)(n.td,{children:"Available streaming platforms"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'streamingService contains "Netflix"'})})]})]})]}),"\n",(0,s.jsx)(n.admonition,{title:"Automatic Anime Detection",type:"tip",children:(0,s.jsxs)(n.p,{children:["Pulsarr automatically detects anime by checking TVDB/TMDB/IMDb IDs against the ",(0,s.jsx)(n.a,{href:"https://github.com/Anime-Lists/anime-lists",children:"anime-lists database"}),', updated weekly. This adds "anime" to content genres automatically, enabling rules like ',(0,s.jsx)(n.code,{children:'genre contains "Anime"'})," without manual tagging."]})}),"\n",(0,s.jsx)(n.h2,{id:"rule-actions",children:"Rule Actions"}),"\n",(0,s.jsx)(n.p,{children:"Each rule can configure special behaviors:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Action"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Require Approval"})}),(0,s.jsx)(n.td,{children:"Force content matching this rule to require admin approval"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Bypass Quotas"})}),(0,s.jsx)(n.td,{children:"Allow content to skip user quota limits"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Approval Reason"})}),(0,s.jsx)(n.td,{children:"Custom message shown when approval is required"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"instance-overrides",children:"Instance Overrides"}),"\n",(0,s.jsx)(n.p,{children:"Override default instance settings when routing:"}),"\n",(0,s.jsx)(n.h3,{id:"sonarr",children:"Sonarr"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Setting"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Quality Profile"})}),(0,s.jsx)(n.td,{children:"Override default quality profile"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Root Folder"})}),(0,s.jsx)(n.td,{children:"Route to specific folder path"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Tags"})}),(0,s.jsx)(n.td,{children:"Apply specific tags for organization"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Search on Add"})}),(0,s.jsx)(n.td,{children:"Automatically search when added"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Series Type"})}),(0,s.jsxs)(n.td,{children:["Override series type (",(0,s.jsx)(n.code,{children:"standard"}),", ",(0,s.jsx)(n.code,{children:"anime"}),", ",(0,s.jsx)(n.code,{children:"daily"}),")"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Season Monitoring"})}),(0,s.jsx)(n.td,{children:"Override monitoring strategy (see below)"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Season Monitoring Options:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Option"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"all"})}),(0,s.jsx)(n.td,{children:"All Seasons"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"future"})}),(0,s.jsx)(n.td,{children:"Future Seasons"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"missing"})}),(0,s.jsx)(n.td,{children:"Missing Episodes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"existing"})}),(0,s.jsx)(n.td,{children:"Existing Episodes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"firstSeason"})}),(0,s.jsx)(n.td,{children:"First Season"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"lastSeason"})}),(0,s.jsx)(n.td,{children:"Last Season"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"latestSeason"})}),(0,s.jsx)(n.td,{children:"Latest Season"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"pilot"})}),(0,s.jsx)(n.td,{children:"Pilot Only"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"pilotRolling"})}),(0,s.jsx)(n.td,{children:"Pilot Rolling (auto-expand with session monitoring)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"firstSeasonRolling"})}),(0,s.jsx)(n.td,{children:"First Season Rolling (auto-expand with session monitoring)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"recent"})}),(0,s.jsx)(n.td,{children:"Recent Episodes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"monitorSpecials"})}),(0,s.jsx)(n.td,{children:"Monitor Specials"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"unmonitorSpecials"})}),(0,s.jsx)(n.td,{children:"Unmonitor Specials"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"none"})}),(0,s.jsx)(n.td,{children:"None"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"skip"})}),(0,s.jsx)(n.td,{children:"Skip"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"radarr",children:"Radarr"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Setting"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Quality Profile"})}),(0,s.jsx)(n.td,{children:"Override default quality profile"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Root Folder"})}),(0,s.jsx)(n.td,{children:"Route to specific folder path"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Tags"})}),(0,s.jsx)(n.td,{children:"Apply specific tags for organization"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Search on Add"})}),(0,s.jsx)(n.td,{children:"Automatically search when added"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Monitor"})}),(0,s.jsxs)(n.td,{children:["Monitor type (",(0,s.jsx)(n.code,{children:"movieOnly"}),", ",(0,s.jsx)(n.code,{children:"movieAndCollection"}),", ",(0,s.jsx)(n.code,{children:"none"}),")"]})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"multi-instance-routing",children:"Multi-Instance Routing"}),"\n",(0,s.jsx)(n.p,{children:"Rules can send content to multiple instances simultaneously:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Anime Rule 1 \u2192 Anime-Sonarr-HD (priority 100)\nAnime Rule 2 \u2192 Anime-Sonarr-4K (priority 90)\n"})}),"\n",(0,s.jsx)(n.p,{children:"Both rules fire for anime content, sending to both instances with their respective configurations."}),"\n",(0,s.jsx)(n.admonition,{title:"Priority Behavior",type:"tip",children:(0,s.jsxs)(n.p,{children:["Priorities only matter when multiple rules target the ",(0,s.jsx)(n.em,{children:"same"})," instance. The highest priority rule wins and applies its settings. Rules targeting ",(0,s.jsx)(n.em,{children:"different"})," instances all execute independently."]})}),"\n",(0,s.jsxs)(n.p,{children:["For multi-instance synchronization features, see ",(0,s.jsx)(n.a,{href:"multi-instance-support",children:"Multi-Instance Support"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"rule-processing",children:"Rule Processing"}),"\n",(0,s.jsx)(n.p,{children:"When content is added to a watchlist:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"All routing rules are evaluated in priority order"}),"\n",(0,s.jsx)(n.li,{children:"Content is sent to all matching instances"}),"\n",(0,s.jsx)(n.li,{children:"For multiple rules targeting the same instance, highest priority wins"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"example-rules",children:"Example Rules"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Anime to dedicated instance:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'IF genre contains "Anime"\nTHEN route to "Anime-Sonarr" with "HD-1080p" profile\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Kids content with approval:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'IF user equals "KidsAccount"\nTHEN route to "Family-Sonarr" in "/kids" folder\nAND require approval\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"High-rated movies only:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'IF imdbRating > 7.5 AND rtCriticRating > 75\nTHEN route to "Premium-Radarr" with "4K" profile\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Long-running series require approval:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'IF season > 5\nTHEN route to default instance\nAND require approval with reason "Long-running series"\n'})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Start with simple rules before adding complexity"}),"\n",(0,s.jsx)(n.li,{children:"Test rules by adding matching content and checking logs"}),"\n",(0,s.jsx)(n.li,{children:"Document your routing strategy for team collaboration"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Rules not matching:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verify condition fields match available metadata (check TMDB/TVDB)"}),"\n",(0,s.jsx)(n.li,{children:"Review genre spelling and casing"}),"\n",(0,s.jsx)(n.li,{children:"Check logs to see rule evaluation"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Content routing to wrong instance:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Review rule priorities (highest wins for same instance)"}),"\n",(0,s.jsx)(n.li,{children:"Check for overlapping rules"}),"\n",(0,s.jsx)(n.li,{children:"Verify target instance is configured and online"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Anime not detected:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Anime database updates weekly (Sundays at 3 AM)"}),"\n",(0,s.jsx)(n.li,{children:"Verify content has TVDB/TMDB/IMDb external IDs"}),"\n",(0,s.jsx)(n.li,{children:"Check logs for anime detection results"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Overrides not applying:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Confirm rule is matching (check logs)"}),"\n",(0,s.jsx)(n.li,{children:"Verify override values exist on target instance"}),"\n",(0,s.jsx)(n.li,{children:"Check rule priority vs conflicting rules"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,s.jsxs)(n.p,{children:["See the ",(0,s.jsx)(n.a,{href:"/docs/api/content-router",children:"Content Router API documentation"})," for managing routing rules programmatically."]})]})}function x(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);