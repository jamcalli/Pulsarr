"use strict";(globalThis.webpackChunk_watchlist_v2_docs=globalThis.webpackChunk_watchlist_v2_docs||[]).push([[6834],{62943(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>x,frontMatter:()=>d,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"utilities/delete-sync","title":"Delete Sync","description":"Automatically removes content from Sonarr/Radarr instances when it\'s no longer on any user\'s watchlist, keeping your libraries clean and optimized.","source":"@site/docs/utilities/02-delete-sync.md","sourceDirName":"utilities","slug":"/utilities/delete-sync","permalink":"/Pulsarr/docs/utilities/delete-sync","draft":false,"unlisted":false,"editUrl":"https://github.com/jamcalli/pulsarr/edit/main/docs/docs/utilities/02-delete-sync.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"API Keys","permalink":"/Pulsarr/docs/utilities/api-keys"},"next":{"title":"New User Defaults","permalink":"/Pulsarr/docs/utilities/new-user-defaults"}}');var s=t(74848),l=t(28453),r=t(41306);const d={sidebar_position:1},o="Delete Sync",c={},a=[{value:"Quick Setup",id:"quick-setup",level:2},{value:"Deletion Modes",id:"deletion-modes",level:2},{value:"Plex Playlist Protection",id:"plex-playlist-protection",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Tag-Based Options",id:"tag-based-options",level:3},{value:"Running Delete Sync",id:"running-delete-sync",level:2},{value:"Advanced Tag Filtering",id:"advanced-tag-filtering",level:2},{value:"Use Cases",id:"use-cases",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"API Reference",id:"api-reference",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"delete-sync",children:"Delete Sync"})}),"\n",(0,s.jsx)(n.p,{children:"Automatically removes content from Sonarr/Radarr instances when it's no longer on any user's watchlist, keeping your libraries clean and optimized."}),"\n",(0,s.jsx)(n.h2,{id:"quick-setup",children:"Quick Setup"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Navigate to ",(0,s.jsx)(n.strong,{children:"Utilities \u2192 Delete Sync"})]}),"\n",(0,s.jsx)(n.li,{children:"Select deletion mode (watchlist-based or tag-based)"}),"\n",(0,s.jsx)(n.li,{children:"Choose content types to manage (movies, ended shows, continuing shows)"}),"\n",(0,s.jsx)(n.li,{children:"Configure safety threshold and file management options"}),"\n",(0,s.jsxs)(n.li,{children:["Run a ",(0,s.jsx)(n.strong,{children:"Dry Run"})," to preview deletions"]}),"\n",(0,s.jsx)(n.li,{children:"Enable automatic scheduling or run manually"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"deletion-modes",children:"Deletion Modes"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Watchlist-based"})," (default): Removes content when no longer on any synced user's watchlist."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Tag-based"}),": Uses removal tags for granular control:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Adds removal tags when content leaves watchlists"}),"\n",(0,s.jsx)(n.li,{children:"Configurable tag behavior: keep, remove, or prefix existing tags"}),"\n",(0,s.jsx)(n.li,{children:"Optional regex filter: require additional tag matching for deletion"}),"\n",(0,s.jsx)(n.li,{children:"Allows delayed deletion based on tag presence"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"plex-playlist-protection",children:"Plex Playlist Protection"}),"\n",(0,s.jsx)(n.p,{children:"Protect content from deletion by adding it to designated Plex playlists:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'Automatic playlist creation for all users (default: "Do Not Delete")'}),"\n",(0,s.jsx)(n.li,{children:"Content in protection playlists is excluded from deletion"}),"\n",(0,s.jsx)(n.li,{children:"Works with both deletion modes"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Setting"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Mode"})}),(0,s.jsx)(n.td,{children:"Watchlist-based or tag-based deletion"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Content Types"})}),(0,s.jsx)(n.td,{children:"Movies, ended shows, continuing shows"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"File Management"})}),(0,s.jsx)(n.td,{children:"Delete or retain media files from disk"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Playlist Protection"})}),(0,s.jsx)(n.td,{children:"Configure protection playlist names"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Safety Threshold"})}),(0,s.jsx)(n.td,{children:"Prevent mass deletion with configurable limits"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Scheduling"})}),(0,s.jsx)(n.td,{children:"Set automatic cleanup timing"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Notifications"})}),(0,s.jsx)(n.td,{children:"Discord, Apprise, or both (optional: notify only on deletion)"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"tag-based-options",children:"Tag-Based Options"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Setting"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Required Tag Regex"})}),(0,s.jsx)(n.td,{children:"Optional pattern - content must match to be deleted"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Tracked Content Only"})}),(0,s.jsx)(n.td,{children:"Only delete content tracked in approval system"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"running-delete-sync",children:"Running Delete Sync"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Enable Automatic"}),": Run on configured schedule"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Run Now"}),": Manual immediate execution"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Dry Run"}),": Preview deletions without changes"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Playlist Creation",type:"info",children:(0,s.jsx)(n.p,{children:"Dry runs will create protection playlists if they don't exist - this is safe and doesn't delete content."})}),"\n",(0,s.jsx)("img",{src:(0,r.default)("/img/Delete-Sync-Dry.png"),alt:"Delete Sync Dry Run Notification"}),"\n",(0,s.jsx)(n.h2,{id:"advanced-tag-filtering",children:"Advanced Tag Filtering"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"Required Tag Regex"})," requires content to have both the removal tag AND a matching tag pattern. Patterns are validated for safety (max 1024 characters, no catastrophic backtracking)."]}),"\n",(0,s.jsx)(n.h3,{id:"use-cases",children:"Use Cases"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Multi-instance deletion sync:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Scenario: Two Pulsarr instances sharing Sonarr/Radarr\nInstance 1: Removal prefix = pulsarr1-removed, Regex = pulsarr2-removed\nInstance 2: Removal prefix = pulsarr2-removed, Regex = pulsarr1-removed\nResult: Content is only deleted when BOTH instances mark it for removal\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"User-specific deletion:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Pattern: ^pulsarr-user-john$\nResult: Only delete content tagged with removal tag AND specific user tag\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Category-based deletion:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Pattern: ^genre:(horror|thriller)$\nResult: Only delete content with removal tag AND specific genre tags\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Exclusion patterns:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'Pattern: ^(?!.*protected).*$\nResult: Delete content with removal tag UNLESS it has a "protected" tag\n'})}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Problem"}),(0,s.jsx)(n.th,{children:"Solution"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Content not being deleted"})}),(0,s.jsx)(n.td,{children:"Check deletion mode settings; verify content is off all watchlists; run dry run to preview"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Too much content flagged"})}),(0,s.jsx)(n.td,{children:'Adjust safety threshold; use playlist protection; enable "Tracked Content Only"'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Regex not matching"})}),(0,s.jsx)(n.td,{children:"Test pattern with simple examples; check for valid JavaScript regex syntax"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Protected content deleted"})}),(0,s.jsx)(n.td,{children:"Verify playlist names match exactly; ensure playlists exist for all users"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Start with dry runs to understand impact"}),"\n",(0,s.jsx)(n.li,{children:"Use playlist protection for favorites or seasonal content"}),"\n",(0,s.jsx)(n.li,{children:"Consider tag-based mode for complex deletion workflows"}),"\n",(0,s.jsx)(n.li,{children:"Test regex patterns with simple examples before applying broadly"}),"\n",(0,s.jsx)(n.li,{children:'Use the "Tracked Content Only" option to avoid deleting manually added content'}),"\n",(0,s.jsx)(n.li,{children:"Keep files for shows that may return"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,s.jsxs)(n.p,{children:["See the ",(0,s.jsx)(n.a,{href:"/docs/api/dry-run-delete-sync",children:"Delete Sync API documentation"})," and ",(0,s.jsx)(n.a,{href:"/docs/api/update-config",children:"Config API"})," for detailed endpoint information."]})]})}function x(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);