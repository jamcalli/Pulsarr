"use strict";(globalThis.webpackChunk_watchlist_v2_docs=globalThis.webpackChunk_watchlist_v2_docs||[]).push([[5310],{89182:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"notifications/native-webhooks","title":"Native Webhooks","description":"Native webhooks allow Pulsarr to send real-time JSON payloads to external systems when events occur. This enables integration with automation platforms, custom scripts, and third-party services without relying on intermediary notification services.","source":"@site/docs/notifications/native-webhooks.md","sourceDirName":"notifications","slug":"/notifications/native-webhooks","permalink":"/Pulsarr/docs/notifications/native-webhooks","draft":false,"unlisted":false,"editUrl":"https://github.com/jamcalli/pulsarr/edit/main/docs/docs/notifications/native-webhooks.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Tautulli Notifications","permalink":"/Pulsarr/docs/notifications/tautulli"},"next":{"title":"API Keys","permalink":"/Pulsarr/docs/utilities/api-keys"}}');var t=i(74848),r=i(28453);const o={sidebar_position:4},l="Native Webhooks",a={},d=[{value:"Overview",id:"overview",level:2},{value:"Event Types",id:"event-types",level:2},{value:"Setup",id:"setup",level:2},{value:"Creating a Webhook Endpoint",id:"creating-a-webhook-endpoint",level:3},{value:"Authentication Options",id:"authentication-options",level:3},{value:"Payload Structure",id:"payload-structure",level:2},{value:"Example Integrations",id:"example-integrations",level:2},{value:"Home Assistant",id:"home-assistant",level:3},{value:"n8n",id:"n8n",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Webhook Not Triggering",id:"webhook-not-triggering",level:3},{value:"Connection Test Fails",id:"connection-test-fails",level:3},{value:"Payloads Not Received",id:"payloads-not-received",level:3},{value:"Debugging Payloads",id:"debugging-payloads",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"native-webhooks",children:"Native Webhooks"})}),"\n",(0,t.jsx)(n.p,{children:"Native webhooks allow Pulsarr to send real-time JSON payloads to external systems when events occur. This enables integration with automation platforms, custom scripts, and third-party services without relying on intermediary notification services."}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"When configured events occur in Pulsarr, HTTP POST requests are sent to your specified endpoints with structured JSON payloads containing event details. This provides a flexible foundation for building custom integrations."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Key characteristics:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Fire-and-forget delivery"}),": Payloads are sent asynchronously without blocking Pulsarr operations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Structured payloads"}),": Consistent JSON schemas for each event type"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Authentication support"}),": Optional custom headers for secured endpoints"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Multiple endpoints"}),": Configure different endpoints for different event types"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"event-types",children:"Event Types"}),"\n",(0,t.jsx)(n.p,{children:"Pulsarr supports the following webhook events:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Event"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"media.available"})}),(0,t.jsx)(n.td,{children:"Content becomes available to watch in Plex"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"watchlist.added"})}),(0,t.jsx)(n.td,{children:"User adds content to their Plex watchlist"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"watchlist.removed"})}),(0,t.jsx)(n.td,{children:"User removes content from their watchlist"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"approval.created"})}),(0,t.jsx)(n.td,{children:"New approval request submitted (quota exceeded, rule triggered)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"approval.resolved"})}),(0,t.jsx)(n.td,{children:"Approval request approved or rejected by admin"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"approval.auto"})}),(0,t.jsx)(n.td,{children:"Content auto-approved based on rules"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"delete_sync.completed"})}),(0,t.jsx)(n.td,{children:"Delete sync job finishes processing"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"user.created"})}),(0,t.jsx)(n.td,{children:"New user added to Pulsarr"})]})]})]}),"\n",(0,t.jsx)(n.admonition,{title:"Payload Documentation",type:"tip",children:(0,t.jsxs)(n.p,{children:["Full payload schemas with examples are available in the ",(0,t.jsx)(n.a,{href:"/docs/api/webhook-payloads",children:"API Reference"}),"."]})}),"\n",(0,t.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,t.jsx)(n.h3,{id:"creating-a-webhook-endpoint",children:"Creating a Webhook Endpoint"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Navigate to ",(0,t.jsx)(n.strong,{children:"Settings"})," \u2192 ",(0,t.jsx)(n.strong,{children:"Notifications"})]}),"\n",(0,t.jsxs)(n.li,{children:["Scroll to the ",(0,t.jsx)(n.strong,{children:"Native Webhooks"})," section"]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Add Webhook Endpoint"})]}),"\n",(0,t.jsxs)(n.li,{children:["Configure the endpoint:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Name"}),': A friendly identifier (e.g., "Home Assistant", "n8n Workflow")']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"URL"}),": The full webhook URL to receive payloads"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Authentication"})," (optional): Add a custom header for authentication"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Events"}),": Select which events trigger this webhook"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Click the ",(0,t.jsx)(n.strong,{children:"Test"})," button to verify connectivity"]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Create"})," to save the endpoint"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{title:"Test Required",type:"warning",children:(0,t.jsx)(n.p,{children:"You must successfully test the connection before saving. This ensures your endpoint is reachable and responding correctly."})}),"\n",(0,t.jsx)(n.h3,{id:"authentication-options",children:"Authentication Options"}),"\n",(0,t.jsx)(n.p,{children:"For secured endpoints, enable the authentication header option:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Header Name"}),": The header key (e.g., ",(0,t.jsx)(n.code,{children:"Authorization"}),", ",(0,t.jsx)(n.code,{children:"X-Webhook-Secret"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Header Value"}),": The secret value (e.g., ",(0,t.jsx)(n.code,{children:"Bearer your-token-here"}),")"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Common patterns:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Authorization: Bearer <token>\nX-API-Key: <api-key>\nX-Webhook-Secret: <shared-secret>\n"})}),"\n",(0,t.jsx)(n.h2,{id:"payload-structure",children:"Payload Structure"}),"\n",(0,t.jsx)(n.p,{children:"All webhook payloads follow a consistent envelope structure:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "event": "media.available",\n  "timestamp": "2024-12-20T10:30:00.000Z",\n  "data": {\n    // Event-specific payload\n  }\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Each event type has its own ",(0,t.jsx)(n.code,{children:"data"})," schema. For example, ",(0,t.jsx)(n.code,{children:"media.available"})," includes:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "event": "media.available",\n  "timestamp": "2024-12-20T10:30:00.000Z",\n  "data": {\n    "mediaType": "movie",\n    "title": "Dune: Part Two",\n    "guids": ["imdb:tt15239678", "tmdb:693134"],\n    "posterUrl": "https://image.tmdb.org/t/p/w500/...",\n    "isBulkRelease": false,\n    "instanceType": "radarr",\n    "instanceId": 1,\n    "watchlistedBy": [\n      { "userId": 1, "username": "john_doe", "alias": "John" }\n    ]\n  }\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["For complete payload schemas and examples, see the ",(0,t.jsx)(n.a,{href:"/docs/api/webhook-payloads",children:"Webhook Payloads API Reference"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"example-integrations",children:"Example Integrations"}),"\n",(0,t.jsx)(n.h3,{id:"home-assistant",children:"Home Assistant"}),"\n",(0,t.jsx)(n.p,{children:"Create an automation triggered by Pulsarr webhooks:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'automation:\n  - alias: "Pulsarr Media Available"\n    trigger:\n      - platform: webhook\n        webhook_id: pulsarr_media_available\n        allowed_methods:\n          - POST\n    action:\n      - service: notify.mobile_app\n        data:\n          title: "{{ trigger.json.data.title }} is ready!"\n          message: "Your watchlist item is now available on Plex"\n'})}),"\n",(0,t.jsx)(n.p,{children:"Configure Pulsarr with the Home Assistant webhook URL:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"https://your-home-assistant.local/api/webhook/pulsarr_media_available\n"})}),"\n",(0,t.jsx)(n.h3,{id:"n8n",children:"n8n"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Create a new workflow with a ",(0,t.jsx)(n.strong,{children:"Webhook"})," trigger node"]}),"\n",(0,t.jsx)(n.li,{children:"Copy the webhook URL from n8n"}),"\n",(0,t.jsx)(n.li,{children:"Add the URL to Pulsarr as a new endpoint"}),"\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.strong,{children:"IF"})," nodes to route based on ",(0,t.jsx)(n.code,{children:"{{ $json.event }}"})," type"]}),"\n",(0,t.jsx)(n.li,{children:"Connect to notification nodes (Slack, Discord, email, etc.)"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"webhook-not-triggering",children:"Webhook Not Triggering"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Verify endpoint is enabled"}),": Check the endpoint status in the webhooks list"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Check event selection"}),": Ensure the relevant events are selected for the endpoint"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Review logs"}),": Check Pulsarr logs for webhook dispatch errors"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"connection-test-fails",children:"Connection Test Fails"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"URL accessibility"}),": Ensure the URL is reachable from the Pulsarr server"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"HTTPS certificates"}),": For self-signed certs, the endpoint may be rejected"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Firewall rules"}),": Verify the target port is open"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Authentication"}),": Double-check header name and value if using auth"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"payloads-not-received",children:"Payloads Not Received"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Endpoint response"}),": Your endpoint must return a 2xx status code"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Timeout"}),": Endpoints must respond within 10 seconds"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Payload size"}),": Ensure your receiver can handle the payload size"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"debugging-payloads",children:"Debugging Payloads"}),"\n",(0,t.jsxs)(n.p,{children:["Use a service like ",(0,t.jsx)(n.a,{href:"https://webhook.site",children:"webhook.site"})," or ",(0,t.jsx)(n.a,{href:"https://requestbin.com",children:"RequestBin"})," to inspect payloads during development. Create a temporary endpoint, add it to Pulsarr, and trigger events to see the exact payload structure."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);